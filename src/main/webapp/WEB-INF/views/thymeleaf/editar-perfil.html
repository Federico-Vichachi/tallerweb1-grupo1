<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Editar Perfil - Rescate Amigos</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.0/css/bootstrap.min.css}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <link rel="stylesheet" th:href="@{/css/variables.css}"/>
    <link rel="stylesheet" th:href="@{/css/editar-perfil.css}"/>

</head>
<body>

<header>
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-perfil">
            <a class="navbar-brand d-flex align-items-center" th:href="@{/home}">
                <img th:src="@{/images/isotipo.svg}" alt="Isotipo" height="60" class="me-2">
                <span class="logo-text fs-3 fw-bold">Rescate Amigos</span>
            </a>

            <div class="d-flex gap-3 navbar-buttons">
                <a th:href="@{/perfil}" class="btn btn-secondary">
                    <i class="fa-solid fa-user"></i>
                    <span class="btn-text">Volver al Perfil</span>
                </a>

                <a th:href="@{/logout}" class="btn btn-outline-danger">
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <span class="btn-text">Cerrar Sesión</span>
                </a>
            </div>
        </div>
    </nav>
</header>

<main class="editar-perfil-container">
    <div class="form-container">
        <div class="form-header">
            <h1>
                <i class="fa-solid fa-pen-to-square"></i>
                Editar Perfil
            </h1>
        </div>

        <div th:if="${error}" class="alert alert-danger" role="alert">
            <i class="fa-solid fa-circle-exclamation"></i>
            <span th:text="${error}"></span>
        </div>

        <div th:if="${mensaje}" class="alert alert-success" role="alert">
            <i class="fa-solid fa-circle-check"></i>
            <span th:text="${mensaje}"></span>
        </div>

        <form th:action="@{/perfil/editar/guardar}" method="POST" th:object="${datosEdicionPerfil}">
            <div class="text-center mb-4">
                <div class="avatar-preview">
                    <img th:src="@{${usuario.urlFotoDePerfil}}"
                         alt="Foto de perfil"
                         id="avatarPreview">
                </div>
            </div>

            <div class="form-section">
                <h2 class="section-title">
                    <i class="fa-solid fa-user"></i>
                    Información Personal
                </h2>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="nombre" class="form-label">
                            <i class="fa-solid fa-id-card"></i>
                            Nombre
                        </label>
                        <input type="text"
                               class="form-control"
                               id="nombre"
                               th:field="*{nombre}"
                               required>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="apellido" class="form-label">
                            <i class="fa-solid fa-id-card"></i>
                            Apellido
                        </label>
                        <input type="text"
                               class="form-control"
                               id="apellido"
                               th:field="*{apellido}"
                               required>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="nombreDeUsuario" class="form-label">
                            <i class="fa-solid fa-user-tag"></i>
                            Nombre de Usuario
                        </label>
                        <input type="text"
                               class="form-control"
                               id="nombreDeUsuario"
                               th:field="*{nombreDeUsuario}"
                               required>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="email" class="form-label">
                            <i class="fa-solid fa-envelope"></i>
                            Email
                        </label>
                        <input type="email"
                               class="form-control"
                               id="email"
                               th:field="*{email}"
                               required>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="telefono" class="form-label">
                            <i class="fa-solid fa-phone"></i>
                            Teléfono
                        </label>
                        <input type="tel"
                               class="form-control"
                               id="telefono"
                               th:field="*{telefono}"
                               required>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="urlFotoDePerfil" class="form-label">
                            <i class="fa-solid fa-image"></i>
                            Foto de Perfil
                        </label>
                        <input type="file"
                               class="form-control"
                               id="urlFotoDePerfil"
                               name="urlFotoDePerfil"
                               accept="image/*">
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h2 class="section-title">
                    <i class="fa-solid fa-house"></i>
                    Domicilio
                </h2>

                <div class="row">
                    <div class="col-md-8 mb-3">
                        <label for="calle" class="form-label">
                            <i class="fa-solid fa-road"></i>
                            Calle
                        </label>
                        <input type="text"
                               class="form-control"
                               id="calle"
                               th:field="*{calle}"
                        >
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="numero" class="form-label">
                            <i class="fa-solid fa-hashtag"></i>
                            Número
                        </label>
                        <input type="text"
                               class="form-control"
                               id="numero"
                               th:field="*{numero}"
                        >
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="piso" class="form-label">
                            <i class="fa-solid fa-building"></i>
                            Piso
                        </label>
                        <input type="text"
                               class="form-control"
                               id="piso"
                               th:field="*{piso}"
                        >
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="departamento" class="form-label">
                            <i class="fa-solid fa-door-open"></i>
                            Departamento
                        </label>
                        <input type="text"
                               class="form-control"
                               id="departamento"
                               th:field="*{departamento}"
                        >
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label for="ciudad" class="form-label">
                            <i class="fa-solid fa-city"></i>
                            Ciudad
                        </label>
                        <input type="text"
                               class="form-control"
                               id="ciudad"
                               th:field="*{ciudad}"
                        >
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="provincia" class="form-label">
                            <i class="fa-solid fa-map"></i>
                            Provincia
                        </label>
                        <select class="form-select"
                                id="provincia"
                                th:field="*{provincia}">
                            <option value="CAPITAL_FEDERAL">Capital Federal</option>
                            <option value="BUENOS_AIRES">Buenos Aires</option>
                            <option value="CATAMARCA">Catamarca</option>
                            <option value="CHACO">Chaco</option>
                            <option value="CHUBUT">Chubut</option>
                            <option value="CORDOBA">Córdoba</option>
                            <option value="CORRIENTES">Corrientes</option>
                            <option value="ENTRE_RIOS">Entre Ríos</option>
                            <option value="FORMOSA">Formosa</option>
                            <option value="JUJUY">Jujuy</option>
                            <option value="LA_PAMPA">La Pampa</option>
                            <option value="LA_RIOJA">La Rioja</option>
                            <option value="MENDOZA">Mendoza</option>
                            <option value="MISIONES">Misiones</option>
                            <option value="NEUQUEN">Neuquén</option>
                            <option value="RIO_NEGRO">Río Negro</option>
                            <option value="SALTA">Salta</option>
                            <option value="SAN_JUAN">San Juan</option>
                            <option value="SAN_LUIS">San Luis</option>
                            <option value="SANTA_CRUZ">Santa Cruz</option>
                            <option value="SANTA_FE">Santa Fe</option>
                            <option value="SANTIAGO_DEL_ESTERO">Santiago del Estero</option>
                            <option value="TIERRA_DEL_FUEGO">Tierra del Fuego</option>
                            <option value="TUCUMAN">Tucumán</option>
                        </select>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="codigoPostal" class="form-label">
                            <i class="fa-solid fa-location-dot"></i>
                            Código Postal
                        </label>
                        <input type="text"
                               class="form-control"
                               id="codigoPostal"
                               th:field="*{codigoPostal}">
                    </div>
                </div>
            </div>

            <!-- Botones de Acción -->
            <div class="form-actions">
                <button type="submit" class="btn btn-guardar">
                    <i class="fa-solid fa-floppy-disk"></i>
                    Guardar Cambios
                </button>
                <a th:href="@{/perfil}" class="btn btn-cancelar">
                    <i class="fa-solid fa-xmark"></i>
                    Cancelar
                </a>
            </div>
        </form>
    </div>
</main>

<script type="text/javascript" th:src="@{/webjars/bootstrap/5.2.0/js/bootstrap.min.js}"></script>
</body>
</html>