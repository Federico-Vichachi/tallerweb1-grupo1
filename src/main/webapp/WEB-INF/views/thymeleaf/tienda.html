<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Tienda de Productos</title>
</head>
<body>
<h1>Tienda de Productos</h1>

<p th:text="${mensaje}" th:if="${mensaje != null}"></p>

<div>
    <ul>
        <li th:each="producto : ${productos}">
            <h2 th:text="${producto.nombre}"></h2>
            <p th:text="${producto.descripcion}"></p>
            <p>Precio: $<span th:text="${producto.precio}"></span></p>
            <p>Precio en puntos: <span th:text="${producto.precioEnPuntos}"></span> pts</p>
            <p>Stock: <span th:text="${producto.stock}"></span></p>
            <img th:src="@{${producto.imagen}}" alt="Imagen producto" width="150"/>

            <form th:action="@{/canjear-producto}" method="post">
                <input type="hidden" th:name="id" th:value="${producto.id}"/>
                <button type="submit">Canjear con puntos</button>
            </form>

            <form th:action="@{/comprar-producto}" method="post">
                <input type="hidden" th:name="id" th:value="${producto.id}"/>
                <button type="submit">Comprar</button>
            </form>
        </li>
    </ul>
</div>
</body>
</html>